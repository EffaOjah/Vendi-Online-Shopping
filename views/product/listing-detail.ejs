<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Product details on Vendi" />
    <title>iPhone 15 Pro Max 256GB - Vendi</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />

    <style>
      :root {
        --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        --primary-color: #667eea;
        --text-dark: #2d3748;
        --text-muted: #718096;
        --border-radius: 16px;
        --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      body {
        background: #f7fafc;
        font-family: "Inter", sans-serif;
        color: var(--text-dark);
      }

      /* ========== NAVBAR ========== */
      .navbar {
        backdrop-filter: blur(10px);
        background: rgba(255, 255, 255, 0.98) !important;
        box-shadow: 0 2px 15px rgba(0, 0, 0, 0.03);
        padding: 0.75rem 0;
        transition: var(--transition);
        border-bottom: 1px solid rgba(0, 0, 0, 0.05);
      }

      .navbar-brand {
        display: flex;
        align-items: center;
      }

      .nav-link {
        font-weight: 500;
        color: #4a5568 !important;
        margin: 0 0.75rem;
        transition: var(--transition);
        font-size: 0.95rem;
      }

      .nav-link:hover {
        color: var(--primary-color) !important;
      }

      /* User Avatar */
      .user-avatar {
        width: 35px;
        height: 35px;
        background-color: #48bb78;
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 0.85rem;
        cursor: pointer;
        transition: var(--transition);
      }

      .user-avatar:hover {
        opacity: 0.9;
        transform: scale(1.05);
      }

      /* Custom Dropdown Styling */
      .navbar .dropdown-toggle::after {
        display: inline-block;
        margin-left: 0.4rem;
        vertical-align: 0.2rem;
        content: "";
        border-top: 0.35em solid;
        border-right: 0.3em solid transparent;
        border-bottom: 0;
        border-left: 0.3em solid transparent;
        color: #718096;
      }

      .navbar .dropdown-menu {
        border: none;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        border-radius: 12px;
        padding: 0.5rem;
        min-width: 180px;
        margin-top: 15px;
      }

      .navbar .dropdown-item {
        border-radius: 8px;
        padding: 0.6rem 1rem;
        color: #4a5568;
        font-weight: 500;
        font-size: 0.9rem;
        transition: var(--transition);
        display: flex;
        align-items: center;
        gap: 0.75rem;
      }

      .navbar .dropdown-item:hover {
        background-color: #f7fafc;
        color: var(--primary-color);
      }

      .navbar .dropdown-item i {
        font-size: 1rem;
        width: 20px;
        text-align: center;
      }

      .navbar .dropdown-item.text-danger {
        color: #e53e3e !important;
      }

      .navbar .dropdown-item.text-danger:hover {
        background-color: #fff5f5;
      }

      .navbar .dropdown-divider {
        margin: 0.5rem 0;
        border-top: 1px solid #edf2f7;
      }

      .btn-post-ad {
        background: var(--primary-gradient);
        color: white !important;
        border: none;
        border-radius: 50px;
        padding: 0.5rem 1.5rem;
        font-weight: 600;
        font-size: 0.95rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        transition: var(--transition);
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
      }

      .btn-post-ad:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
      }

      .breadcrumb {
        background: transparent;
        padding: 0;
        margin: 1.5rem 0;
        font-size: 0.85rem;
      }

      .breadcrumb-item a {
        color: var(--text-muted);
        text-decoration: none;
        transition: var(--transition);
      }

      .breadcrumb-item a:hover {
        color: var(--primary-color);
      }

      .breadcrumb-item.active {
        color: var(--text-dark);
        font-weight: 500;
      }

      .product-section {
        padding: 0 0 5rem;
      }

      .product-gallery {
        background: white;
        border-radius: var(--border-radius);
        padding: 1.5rem;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.03);
      }

      .main-image {
        width: 100%;
        height: 450px;
        object-fit: cover;
        border-radius: 12px;
        margin-bottom: 1rem;
        background: #f7fafc;
      }

      .thumbnail-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 0.8rem;
      }

      .thumbnail {
        width: 100%;
        height: 80px;
        object-fit: cover;
        border-radius: 8px;
        cursor: pointer;
        border: 2px solid transparent;
        transition: var(--transition);
        opacity: 0.7;
      }

      .thumbnail:hover,
      .thumbnail.active {
        border-color: var(--primary-color);
        opacity: 1;
      }

      .product-info {
        background: white;
        border-radius: var(--border-radius);
        padding: 2rem;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.03);
        position: sticky;
        top: 100px;
      }

      .product-title {
        font-size: 1.5rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
        color: #1a202c;
        line-height: 1.3;
      }

      .product-price {
        font-size: 1.75rem;
        font-weight: 800;
        color: #48bb78;
        margin-bottom: 1rem;
        letter-spacing: -0.5px;
        background: none;
        -webkit-text-fill-color: initial;
      }

      .product-meta {
        display: flex;
        gap: 2rem;
        margin-bottom: 2rem;
        padding-bottom: 2rem;
        border-bottom: 2px solid #f7fafc;
      }

      .meta-item {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        color: var(--text-muted);
      }

      .meta-item i {
        color: var(--primary-color);
      }

      .seller-card {
        background: #f7fafc;
        border-radius: 12px;
        padding: 1.5rem;
        margin-bottom: 2rem;
      }

      .seller-info {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 1rem;
      }

      .seller-avatar {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: var(--primary-gradient);
      }

      .seller-name {
        font-weight: 700;
        font-size: 1.1rem;
        margin-bottom: 0.3rem;
      }

      .seller-rating {
        color: #f6ad55;
      }

      .action-buttons {
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }

      .btn-action {
        padding: 1rem;
        border-radius: 12px;
        border: none;
        font-weight: 600;
        cursor: pointer;
        transition: var(--transition);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.8rem;
      }

      .btn-contact {
        background: var(--primary-gradient);
        color: white;
      }

      .btn-contact:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 25px rgba(102, 126, 234, 0.4);
      }

      .btn-call {
        background: #48bb78;
        color: white;
      }

      .btn-call:hover {
        background: #38a169;
      }

      .btn-save {
        background: white;
        border: 2px solid #e2e8f0;
        color: var(--text-dark);
      }

      .btn-save:hover {
        border-color: var(--primary-color);
        color: var(--primary-color);
      }

      .product-details {
        background: white;
        border-radius: var(--border-radius);
        padding: 2.5rem;
        margin-top: 2rem;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
      }

      .product-details h3 {
        font-weight: 800;
        margin-bottom: 1.5rem;
      }

      .product-details p {
        line-height: 1.8;
        color: var(--text-muted);
        margin-bottom: 2rem;
      }

      .specs-table {
        width: 100%;
      }

      .specs-table tr {
        border-bottom: 1px solid #f7fafc;
      }

      .specs-table td {
        padding: 1rem 0;
      }

      .specs-table td:first-child {
        font-weight: 600;
        width: 40%;
      }

      .specs-table td:last-child {
        color: var(--text-muted);
      }

      .safety-tips {
        background: linear-gradient(135deg, #fff5e6 0%, #ffe6e6 100%);
        border-left: 4px solid #f6ad55;
        border-radius: var(--border-radius);
        padding: 1.5rem;
        margin-top: 2rem;
      }

      .safety-tips h5 {
        font-weight: 700;
        margin-bottom: 1rem;
        color: #c05621;
      }

      .safety-tips ul {
        margin: 0;
        padding-left: 1.5rem;
        color: #744210;
      }

      .safety-tips li {
        margin-bottom: 0.5rem;
      }

      .related-products {
        padding: 3rem 0;
      }

      .section-title {
        font-size: 2rem;
        font-weight: 800;
        margin-bottom: 2rem;
      }

      .product-card {
        background: white;
        border-radius: var(--border-radius);
        overflow: hidden;
        transition: var(--transition);
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
      }

      .product-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
      }

      .product-card img {
        width: 100%;
        height: 200px;
        object-fit: cover;
      }

      .product-card-body {
        padding: 1.5rem;
      }

      .product-card-title {
        font-weight: 700;
        margin-bottom: 0.8rem;
      }

      .product-card-price {
        font-size: 1.3rem;
        font-weight: 800;
        color: var(--primary-color);
        margin-bottom: 0.5rem;
      }

      .product-card-location {
        color: var(--text-muted);
        font-size: 0.9rem;
      }

      @media (max-width: 768px) {
        .main-image {
          height: 300px;
        }
        .product-info {
          position: static;
        }
        .thumbnail-grid {
          grid-template-columns: repeat(3, 1fr);
        }
      }

      /* Back to Top */
      .back-to-top {
        position: fixed;
        bottom: 30px;
        right: 30px;
        width: 50px;
        height: 50px;
        background: var(--primary-gradient);
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
        cursor: pointer;
        opacity: 0;
        visibility: hidden;
        transition: var(--transition);
        z-index: 999;
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        border: none;
      }

      .back-to-top.active {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
      }

      .back-to-top:hover {
        transform: translateY(-5px);
        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        color: white;
      }

      /* LIGHTBOX STYLES */
      .lightbox-modal {
        display: none;
        position: fixed;
        z-index: 2000;
        padding-top: 50px;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.9);
        backdrop-filter: blur(5px);
      }

      .lightbox-content {
        margin: auto;
        display: block;
        width: 80%;
        max-width: 1000px;
        max-height: 80vh;
        object-fit: contain;
        border-radius: 8px;
        animation: zoomIn 0.3s ease;
      }

      @keyframes zoomIn {
        from {
          transform: scale(0);
        }
        to {
          transform: scale(1);
        }
      }

      .lightbox-close {
        position: absolute;
        top: 25px;
        right: 35px;
        color: #f1f1f1;
        font-size: 40px;
        font-weight: bold;
        transition: 0.3s;
        cursor: pointer;
        z-index: 2001;
      }

      .lightbox-close:hover,
      .lightbox-close:focus {
        color: var(--primary-color);
        text-decoration: none;
        cursor: pointer;
      }

      .lightbox-nav {
        background: rgba(255, 255, 255, 0.1);
        border: none;
        color: white;
        padding: 1rem;
        cursor: pointer;
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        font-size: 1.5rem;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: var(--transition);
        z-index: 2001;
      }

      .lightbox-nav:hover {
        background: rgba(255, 255, 255, 0.3);
      }

      .lightbox-prev {
        left: 20px;
      }

      .lightbox-next {
        right: 20px;
      }

      @media only screen and (max-width: 700px) {
        .lightbox-content {
          width: 95%;
        }
        .lightbox-nav {
          padding: 0.5rem;
          width: 40px;
          height: 40px;
          font-size: 1.2rem;
        }
        .lightbox-prev {
          left: 10px;
        }
        .lightbox-next {
          right: 10px;
        }
      }
    </style>
  </head>

  <body>
    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-lg sticky-top">
      <div class="container">
        <a class="navbar-brand" href="/home">
          <img src="/images/vendi-logo.png" alt="" width="80px" />
        </a>

        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navMenu"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navMenu">
          <ul class="navbar-nav ms-auto align-items-center">
            <li class="nav-item">
              <a href="/home" class="nav-link">Home</a>
            </li>
            <% if (locals.isAuthenticated) { %>
            <li class="nav-item">
              <a href="/user/my-ads" class="nav-link">My Ads</a>
            </li>
            <li class="nav-item">
              <a href="/user/chat" class="nav-link">Messages</a>
            </li>
            <% } else { %>
            <li class="nav-item">
              <a href="/about" class="nav-link">About</a>
            </li>
            <li class="nav-item">
              <a href="/contact" class="nav-link">Contact</a>
            </li>
            <% } %>
            <li class="nav-item">
              <a href="/user/saved-items" class="nav-link">
                <i class="far fa-heart me-1"></i>Saved
              </a>
            </li>

            <% if (locals.isAuthenticated) { %> <% let initials = "U"; if
            (locals.user && locals.user.full_name) { const names =
            locals.user.full_name.trim().split(/\s+/); initials = names.length >
            1 ? (names[0][0] + names[names.length - 1][0]).toUpperCase() :
            names[0].substring(0, 2).toUpperCase(); } %>
            <li class="nav-item dropdown ms-2">
              <a
                class="nav-link dropdown-toggle d-flex align-items-center p-0"
                href="#"
                id="userDropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                <div class="user-avatar"><%= initials %></div>
              </a>
              <ul
                class="dropdown-menu dropdown-menu-end"
                aria-labelledby="userDropdown"
              >
                <li>
                  <a class="dropdown-item" href="/user/profile">
                    <i class="fas fa-user"></i>Profile
                  </a>
                </li>
                <li>
                  <a class="dropdown-item" href="/user/settings">
                    <i class="fas fa-cog"></i>Settings
                  </a>
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li>
                  <a class="dropdown-item text-danger" href="/auth/logout">
                    <i class="fas fa-sign-out-alt"></i>Logout
                  </a>
                </li>
              </ul>
            </li>
            <% } else { %>
            <li class="nav-item">
              <a href="/auth/login" class="nav-link">Login</a>
            </li>
            <% } %>

            <li class="nav-item ms-3">
              <a href="/user/post-ad" class="btn btn-post-ad">
                <i class="fas fa-plus"></i>Post Ad
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- BREADCRUMB -->
    <div class="container">
      <nav class="breadcrumb">
        <ol class="breadcrumb mb-0">
          <li class="breadcrumb-item"><a href="/home">Home</a></li>
          <li class="breadcrumb-item">
            <a href="/product/search">Electronics</a>
          </li>
          <li class="breadcrumb-item active">iPhone 15 Pro Max 256GB</li>
        </ol>
      </nav>
    </div>

    <!-- PRODUCT SECTION -->
    <section class="product-section">
      <div class="container">
        <div class="row g-4">
          <!-- GALLERY -->
          <div class="col-lg-7">
            <div class="product-gallery">
              <img
                src="https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=800"
                alt="iPhone 15 Pro Max"
                class="main-image"
                id="mainImage"
                onclick="openLightbox()"
                style="cursor: zoom-in"
              />
              <div class="thumbnail-grid">
                <img
                  src="https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=200"
                  class="thumbnail active"
                  onclick="changeImage(this)"
                />
                <img
                  src="https://images.unsplash.com/photo-1592286927505-c7c365e6f0e8?w=200"
                  class="thumbnail"
                  onclick="changeImage(this)"
                />
                <img
                  src="https://images.unsplash.com/photo-1603891128711-11b4b03e0f44?w=200"
                  class="thumbnail"
                  onclick="changeImage(this)"
                />
                <img
                  src="https://images.unsplash.com/photo-1601784551446-20c9e07cdbdb?w=200"
                  class="thumbnail"
                  onclick="changeImage(this)"
                />
              </div>
            </div>

            <!-- PRODUCT DETAILS -->
            <div class="product-details">
              <h3>Description</h3>
              <p>
                Brand new iPhone 15 Pro Max with 256GB storage in Titanium Blue.
                This is the latest flagship from Apple featuring the powerful
                A17 Pro chip, advanced camera system with 5x optical zoom, and
                stunning Super Retina XDR display.
              </p>
              <p>
                The device comes with all original accessories including USB-C
                charging cable, documentation, and original Apple packaging.
                Never been used, still sealed in box. Perfect condition with
                full manufacturer warranty.
              </p>

              <h3>Specifications</h3>
              <table class="specs-table">
                <tr>
                  <td>Brand</td>
                  <td>Apple</td>
                </tr>
                <tr>
                  <td>Model</td>
                  <td>iPhone 15 Pro Max</td>
                </tr>
                <tr>
                  <td>Storage</td>
                  <td>256GB</td>
                </tr>
                <tr>
                  <td>Color</td>
                  <td>Titanium Blue</td>
                </tr>
                <tr>
                  <td>Condition</td>
                  <td>Brand New (Sealed)</td>
                </tr>
                <tr>
                  <td>Warranty</td>
                  <td>1 Year Apple Warranty</td>
                </tr>
                <tr>
                  <td>Display</td>
                  <td>6.7" Super Retina XDR</td>
                </tr>
                <tr>
                  <td>Processor</td>
                  <td>A17 Pro Chip</td>
                </tr>
                <tr>
                  <td>Camera</td>
                  <td>48MP Main, 12MP Ultra Wide, 12MP Telephoto</td>
                </tr>
              </table>
            </div>

            <!-- SAFETY TIPS -->
            <div class="safety-tips">
              <h5><i class="fas fa-shield-alt me-2"></i>Safety Tips</h5>
              <ul>
                <li>Meet in a safe, public location</li>
                <li>Inspect the item thoroughly before payment</li>
                <li>Never send money before seeing the product</li>
                <li>Verify the seller's identity and check reviews</li>
                <li>Report suspicious listings immediately</li>
              </ul>
            </div>
          </div>

          <!-- PRODUCT INFO -->
          <div class="col-lg-5">
            <div class="product-info">
              <h1 class="product-title">iPhone 15 Pro Max 256GB</h1>
              <div class="product-price">₦1,250,000</div>

              <div class="product-meta">
                <div class="meta-item">
                  <i class="fas fa-map-marker-alt"></i>
                  <span>Victoria Island, Lagos</span>
                </div>
                <div class="meta-item">
                  <i class="far fa-clock"></i>
                  <span>Posted 2 days ago</span>
                </div>
                <div class="meta-item">
                  <i class="far fa-eye"></i>
                  <span>342 views</span>
                </div>
              </div>

              <!-- SELLER INFO -->
              <div class="seller-card">
                <div class="seller-info">
                  <div class="seller-avatar"></div>
                  <div>
                    <div class="seller-name">Adebayo Johnson</div>
                    <div class="seller-rating">
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star-half-alt"></i>
                      <span
                        style="color: var(--text-muted); margin-left: 0.5rem"
                        >4.8 (24 reviews)</span
                      >
                    </div>
                  </div>
                </div>
                <a
                  href="/product/seller-profile"
                  class="btn btn-sm"
                  style="
                    background: white;
                    border: 2px solid #e2e8f0;
                    border-radius: 8px;
                    padding: 0.5rem 1rem;
                    text-decoration: none;
                    color: var(--text-dark);
                    font-weight: 600;
                  "
                >
                  View Profile
                </a>
              </div>

              <!-- ACTION BUTTONS -->
              <div class="action-buttons">
                <a
                  href="/user/chat
                "
                ></a>
                <button
                  class="btn-action btn-contact"
                  onclick="location.assign('/user/chat')"
                >
                  <i class="fas fa-comment"></i>
                  Chat with Seller
                </button>
                <button class="btn-action btn-call">
                  <i class="fas fa-phone"></i>
                  Show Phone Number
                </button>
                <button class="btn-action btn-save">
                  <i class="far fa-heart"></i>
                  Save to Wishlist
                </button>
                <button
                  class="btn-action"
                  style="background: #fed7d7; color: #c53030"
                >
                  <i class="fas fa-flag"></i>
                  Report Listing
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- RELATED PRODUCTS -->
    <section class="related-products" style="background: white">
      <div class="container">
        <h2 class="section-title">Similar Listings</h2>
        <div class="row g-4">
          <div class="col-md-3">
            <a href="/product/listing-detail" class="text-decoration-none">
              <div class="product-card">
                <img
                  src="https://images.unsplash.com/photo-1585060544812-6b45742d762f?w=400"
                  alt="Samsung Galaxy"
                />
                <div class="product-card-body">
                  <h6 class="product-card-title">Samsung Galaxy S24 Ultra</h6>
                  <div class="product-card-price">₦980,000</div>
                  <div class="product-card-location">
                    <i class="fas fa-map-marker-alt me-1"></i>Ikeja, Lagos
                  </div>
                </div>
              </div>
            </a>
          </div>
          <div class="col-md-3">
            <a href="/product/listing-detail" class="text-decoration-none">
              <div class="product-card">
                <img
                  src="https://images.unsplash.com/photo-1603891128711-11b4b03e0f44?w=400"
                  alt="iPhone 14"
                />
                <div class="product-card-body">
                  <h6 class="product-card-title">iPhone 14 Pro 128GB</h6>
                  <div class="product-card-price">₦850,000</div>
                  <div class="product-card-location">
                    <i class="fas fa-map-marker-alt me-1"></i>Lekki, Lagos
                  </div>
                </div>
              </div>
            </a>
          </div>
          <div class="col-md-3">
            <a href="/product/listing-detail" class="text-decoration-none">
              <div class="product-card">
                <img
                  src="https://images.unsplash.com/photo-1598327105666-5b89351aff97?w=400"
                  alt="Google Pixel"
                />
                <div class="product-card-body">
                  <h6 class="product-card-title">Google Pixel 8 Pro</h6>
                  <div class="product-card-price">₦720,000</div>
                  <div class="product-card-location">
                    <i class="fas fa-map-marker-alt me-1"></i>Abuja
                  </div>
                </div>
              </div>
            </a>
          </div>
          <div class="col-md-3">
            <a href="/product/listing-detail" class="text-decoration-none">
              <div class="product-card">
                <img
                  src="https://images.unsplash.com/photo-1610945415295-d9bbf067e59c?w=400"
                  alt="OnePlus"
                />
                <div class="product-card-body">
                  <h6 class="product-card-title">OnePlus 12 5G</h6>
                  <div class="product-card-price">₦650,000</div>
                  <div class="product-card-location">
                    <i class="fas fa-map-marker-alt me-1"></i>Port Harcourt
                  </div>
                </div>
              </div>
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- BACK TO TOP BUTTON -->
    <button class="back-to-top" id="backToTop" title="Back to Top">
      <i class="fas fa-arrow-up"></i>
    </button>

    <!-- LIGHTBOX MODAL -->
    <div id="lightboxModal" class="lightbox-modal">
      <span class="lightbox-close" onclick="closeLightbox()">&times;</span>
      <button
        class="lightbox-nav lightbox-prev"
        onclick="changeLightboxImage(-1)"
      >
        <i class="fas fa-chevron-left"></i>
      </button>
      <img class="lightbox-content" id="lightboxImage" />
      <button
        class="lightbox-nav lightbox-next"
        onclick="changeLightboxImage(1)"
      >
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      function changeImage(thumbnail) {
        document.getElementById("mainImage").src = thumbnail.src.replace(
          "w=200",
          "w=800"
        );
        document
          .querySelectorAll(".thumbnail")
          .forEach((t) => t.classList.remove("active"));
        thumbnail.classList.add("active");
      }

      document
        .querySelector(".btn-call")
        .addEventListener("click", function () {
          this.innerHTML = '<i class="fas fa-phone me-2"></i>+234 801 234 5678';
        });

      document
        .querySelector(".btn-save")
        .addEventListener("click", function () {
          const icon = this.querySelector("i");
          if (icon.classList.contains("far")) {
            icon.classList.remove("far");
            icon.classList.add("fas");
            this.style.borderColor = "var(--primary-color)";
            this.style.color = "var(--primary-color)";
          } else {
            icon.classList.remove("fas");
            icon.classList.add("far");
            this.style.borderColor = "#e2e8f0";
            this.style.color = "var(--text-dark)";
          }
        });

      // Back to Top Button
      const backToTopBtn = document.getElementById("backToTop");

      window.addEventListener("scroll", () => {
        if (window.scrollY > 300) {
          backToTopBtn.classList.add("active");
        } else {
          backToTopBtn.classList.remove("active");
        }
      });
      backToTopBtn.addEventListener("click", () => {
        window.scrollTo({
          top: 0,
          behavior: "smooth",
        });
      });

      // Lightbox Logic
      let currentImageIndex = 0;
      const thumbnails = document.querySelectorAll(".thumbnail");
      // Extract high-res URLs from thumbnails
      const imageUrls = Array.from(thumbnails).map((thumb) =>
        thumb.src.replace("w=200", "w=1200")
      );

      function openLightbox() {
        const mainImageSrc = document.getElementById("mainImage").src;
        // Find index of current main image to start lightbox at correct position
        // The main image might be w=800, so we match based on the base URL logic or find closest match
        // Or simpler: rely on the 'active' thumbnail class
        const activeThumb = document.querySelector(".thumbnail.active");
        if (activeThumb) {
          currentImageIndex = Array.from(thumbnails).indexOf(activeThumb);
        }

        showLightboxImage();
        document.getElementById("lightboxModal").style.display = "block";
        document.body.style.overflow = "hidden"; // Prevent scrolling
      }

      function closeLightbox() {
        document.getElementById("lightboxModal").style.display = "none";
        document.body.style.overflow = "auto";
      }

      function changeLightboxImage(direction) {
        currentImageIndex += direction;
        if (currentImageIndex >= imageUrls.length) {
          currentImageIndex = 0;
        } else if (currentImageIndex < 0) {
          currentImageIndex = imageUrls.length - 1;
        }
        showLightboxImage();
      }

      function showLightboxImage() {
        const url = imageUrls[currentImageIndex];
        document.getElementById("lightboxImage").src = url;
      }

      // Close on outside click
      document
        .getElementById("lightboxModal")
        .addEventListener("click", function (e) {
          if (e.target === this) {
            closeLightbox();
          }
        });

      // Keyboard navigation
      document.addEventListener("keydown", function (event) {
        if (
          document.getElementById("lightboxModal").style.display === "block"
        ) {
          if (event.key === "Escape") {
            closeLightbox();
          } else if (event.key === "ArrowLeft") {
            changeLightboxImage(-1);
          } else if (event.key === "ArrowRight") {
            changeLightboxImage(1);
          }
        }
      });
    </script>
  </body>
</html>
